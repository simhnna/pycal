{% extends 'base.html' %}
{% load i18n %}
{% load staticfiles %}
{% load common_tags %}

{% block content %}
<div class="card">
  <form action="" method='post' enctype="multipart/form-data">
    {% csrf_token %}
    <div class="card-content">
      <span class="card-title">{% trans 'Upload ICal File' %}</span>
      {% if form.non_field_errors %}
      <div class="alert alert-danger">
        <ul>
          {% for error in form.non_field_errors %}
          <li>
            {{ error }}
          </li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      {% for error in form.ical_file.errors %}
      <div class="row">
        <div class="col-md-offset-2 col-md-8 alert alert-danger">
          {{ error }}
        </div>
      </div>
      {% endfor %}
      <div class="file-field input-field">
        <div class="btn">
          <span>File</span>
          {{ form.ical_file }}
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" placeholder="Upload an ical file">
        </div>
      </div>
    </div>
  </form>
  <div class="card-action">
    <input type='submit' class="btn" value="{% trans 'Upload ICal' %}">
  </div>
</div>
{% endblock %}
